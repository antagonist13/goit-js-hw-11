{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet initTime = Date.now()\nconst picker = document.querySelector(\"#datetime-picker\")\nconst flatpickrInput = document.querySelector(\".timer-section\").firstElementChild\nconst startBtn = document.querySelector(\"[data-start]\")\nstartBtn.disabled = true\nstartBtn.classList.add(\"start-btn\")\n\nconst days = document.querySelector(\"[data-days]\")\nconst hours = document.querySelector(\"[data-hours]\")\nconst minutes = document.querySelector(\"[data-minutes]\")\nconst seconds = document.querySelector(\"[data-seconds]\")\n\nlet userSelectedDate\nlet intervalId = null;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n      console.log(selectedDates[0]);\n      \n      userSelectedDate = selectedDates[0]\n      if (userSelectedDate <= initTime) {\n        startBtn.disabled = true \n        //   alert(\"Please choose a date in the future\")\n          iziToast.error({\n              message: 'Please choose a date in the future',\n              position: 'topRight'\n});\n      } else {\n          startBtn.disabled = false\n          \n      }\n   },        \n};\n\nflatpickr(picker, options);\n\nstartBtn.addEventListener(\"click\", (() => {\n    startBtn.disabled = true\n    picker.disabled = true\n\n  flatpickrInput.addEventListener(\"click\", ((event) => {\n      event.preventDefault()\n  }))\n  flatpickrInput.addEventListener(\"focus\", ((event) => {\n      this.blur();\n  }))\n\n    intervalId = setInterval(() => {\n        const currentTime = Date.now();\n        const diff = userSelectedDate - currentTime\n\n      \n        if (diff < 1000) clearInterval(intervalId);\n        days.textContent = formater(convertMs(diff).days)\n        hours.textContent = formater(convertMs(diff).hours)\n        minutes.textContent = formater(convertMs(diff).minutes)\n        seconds.textContent = formater(convertMs(diff).seconds)\n    }, 1000)\n     \n    \n    \n}))\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\nfunction formater (data) {\n return String(data).padStart(2, '0');\n}\n"],"names":["initTime","picker","flatpickrInput","startBtn","days","hours","minutes","seconds","userSelectedDate","intervalId","options","selectedDates","iziToast","flatpickr","event","this","currentTime","diff","formater","convertMs","ms","data"],"mappings":"0IAOA,IAAIA,EAAW,KAAK,IAAK,EACzB,MAAMC,EAAS,SAAS,cAAc,kBAAkB,EAClDC,EAAiB,SAAS,cAAc,gBAAgB,EAAE,kBAC1DC,EAAW,SAAS,cAAc,cAAc,EACtDA,EAAS,SAAW,GACpBA,EAAS,UAAU,IAAI,WAAW,EAElC,MAAMC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAU,SAAS,cAAc,gBAAgB,EACjDC,EAAU,SAAS,cAAc,gBAAgB,EAEvD,IAAIC,EACAC,EAAa,KAEjB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EAE5BH,EAAmBG,EAAc,CAAC,EAC9BH,GAAoBR,GACtBG,EAAS,SAAW,GAElBS,EAAS,MAAM,CACX,QAAS,qCACT,SAAU,UACxB,CAAC,GAEST,EAAS,SAAW,EAG1B,CACJ,EAEAU,EAAUZ,EAAQS,CAAO,EAEzBP,EAAS,iBAAiB,QAAU,IAAM,CACtCA,EAAS,SAAW,GACpBF,EAAO,SAAW,GAEpBC,EAAe,iBAAiB,QAAWY,GAAU,CACjDA,EAAM,eAAgB,CAC5B,CAAK,EACHZ,EAAe,iBAAiB,QAAWY,GAAU,CACjDC,SAAK,KAAI,CACf,CAAK,EAEDN,EAAa,YAAY,IAAM,CAC3B,MAAMO,EAAc,KAAK,MACnBC,EAAOT,EAAmBQ,EAG5BC,EAAO,KAAM,cAAcR,CAAU,EACzCL,EAAK,YAAcc,EAASC,EAAUF,CAAI,EAAE,IAAI,EAChDZ,EAAM,YAAca,EAASC,EAAUF,CAAI,EAAE,KAAK,EAClDX,EAAQ,YAAcY,EAASC,EAAUF,CAAI,EAAE,OAAO,EACtDV,EAAQ,YAAcW,EAASC,EAAUF,CAAI,EAAE,OAAO,CACzD,EAAE,GAAI,CAIX,CAAG,EAEH,SAASE,EAAUC,EAAI,CAQrB,MAAMhB,EAAO,KAAK,MAAMgB,EAAK,KAAG,EAE1Bf,EAAQ,KAAK,MAAOe,EAAK,MAAO,IAAI,EAEpCd,EAAU,KAAK,MAAQc,EAAK,MAAO,KAAQ,GAAM,EAEjDb,EAAU,KAAK,MAASa,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAhB,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CACA,SAASW,EAAUG,EAAM,CACxB,OAAO,OAAOA,CAAI,EAAE,SAAS,EAAG,GAAG,CACpC"}